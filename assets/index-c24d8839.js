var h=Object.defineProperty,w=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var M=(e,o,t)=>o in e?h(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,C=(e,o)=>{for(var t in o||(o={}))V.call(o,t)&&M(e,t,o[t]);if(c)for(var t of c(o))g.call(o,t)&&M(e,t,o[t]);return e},v=(e,o)=>w(e,A(o));var F=(e,o,t)=>new Promise((p,i)=>{var u=n=>{try{a(t.next(n))}catch(m){i(m)}},s=n=>{try{a(t.throw(n))}catch(m){i(m)}},a=n=>n.done?p(n.value):Promise.resolve(n.value).then(u,s);a((t=t.apply(e,o)).next())});import k from"./index-3050b948.js";import{a as D}from"./index-a4c1e44f.js";import S from"./JsonModal-e88f356a.js";import{M as U}from"./antd-5dd6c6b2.js";import{d as $,f as y,r as B,G as E,a7 as f,Z as G,a8 as J,a9 as b,l as d}from"./vue-ea98dac5.js";import{_ as O}from"./index.js";import"./FormRender-a0ffe558.js";import"./index-d02b9926.js";import"./formItemConfig-f39c5efc.js";import"./componentMap-72b605b4.js";import"./useFormItem-ee44bb9f.js";import"./RadioButtonGroup-c288bb4d.js";import"./index-8a4f8beb.js";import"./useWindowSizeFn-997fa1d0.js";import"./uuid-31b8b5a4.js";import"./download-2647fd8d.js";import"./base64Conver-39fc0d26.js";import"./index-04cb8ba5.js";import"./index-d54c0a54.js";import"./useFormDesignState-2b7717e9.js";import"./PreviewCode-f5984579.js";import"./index-5230612c.js";const N=$({name:"VFormPreview",components:{JsonModal:S,VFormCreate:k,Modal:U},setup(){const e=y(null),o=B({formModel:{},formConfig:{},visible:!1,fApi:{}}),t=a=>{D(a.schemas),o.formConfig=a,o.visible=!0},p=()=>{o.visible=!1,o.formModel={}},i=()=>F(this,null,function*(){var n,m,r,l;const a=yield(m=(n=o.fApi).submit)==null?void 0:m.call(n);(l=(r=e.value)==null?void 0:r.showModal)==null||l.call(r,a)}),u=a=>{},s=()=>{o.formModel={}};return v(C({handleGetData:i,handleCancel:p},E(o)),{showModal:t,jsonModal:e,onSubmit:u,onCancel:s})}});function P(e,o,t,p,i,u){const s=f("a-input"),a=f("VFormCreate"),n=f("JsonModal"),m=f("Modal");return G(),J(m,{title:"预览(支持布局)",open:e.visible,onOk:e.handleGetData,onCancel:e.handleCancel,okText:"获取数据",cancelText:"关闭",style:{top:"20px"},destroyOnClose:!0,width:900},{default:b(()=>[d(a,{"form-config":e.formConfig,fApi:e.fApi,"onUpdate:fApi":o[0]||(o[0]=r=>e.fApi=r),formModel:e.formModel,"onUpdate:formModel":o[1]||(o[1]=r=>e.formModel=r),onSubmit:e.onSubmit},{slotName:b(({formModel:r,field:l})=>[d(s,{value:r[l],"onUpdate:value":_=>r[l]=_,placeholder:"我是插槽传递的输入框"},null,8,["value","onUpdate:value"])]),_:1},8,["form-config","fApi","formModel","onSubmit"]),d(n,{ref:"jsonModal"},null,512)]),_:1},8,["open","onOk","onCancel"])}const so=O(N,[["render",P]]);export{so as default};
